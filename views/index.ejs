<!DOCTYPE html>
<html lang="en">
  <%- include('./partials/head.ejs') %>
  <body>
    <div class="container">
      <%- include('./partials/nav.ejs') %>
      <header><h1>Mini Message Board</h1></header>
      <main>
        <!-- EJS checks if there are messages in the messages object. If there are it loops through them and displays them. If not it shows there are no messages -->
        <% if(messages.length) {%> <% messages.forEach((message, index) => {%>
        <section class="messages">
          <p class="user">Name: <%= message.user %></p>
          <p class="message">Message: <%= message.text %></p>
          <p class="date-added">
            Date added: <%= new Date().toJSON().slice(0, 10); %>
          </p>
          <a href="/message/<%= index %>" class="open-message">
            <button class="open-message-btn">Open</button>
          </a>
        </section>
        <% }) %> <% } else {%>
        <p>There are no messages to display</p>
        <% } %>
      </main>
    </div>
  </body>
</html>
